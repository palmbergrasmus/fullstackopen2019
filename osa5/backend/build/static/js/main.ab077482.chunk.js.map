{"version":3,"sources":["services/login.js","services/blogs.js","components/LoginForm.js","components/Blog.js","components/Blogs.js","components/BlogForm.js","App.js","index.js"],"names":["services_login","login","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","credentials","response","wrap","_context","prev","next","axios","post","sent","abrupt","data","stop","_x","apply","this","arguments","token","services_blogs","getAll","get","then","setToken","newToken","concat","create","newObject","config","headers","Authorization","t0","LoginForm","props","username","setUsername","password","setPassword","handleLogin","react_default","createElement","onSubmit","type","value","name","onChange","Blog","blog","title","author","Blogs","blogs","map","index","components_Blog","key","BlogForm","addBlog","_useState","useState","_useState2","slicedToArray","setTitle","_useState3","_useState4","setAuthor","_useState5","_useState6","url","setUrl","event","target","onClick","App","setBlogs","_useState7","_useState8","errorMessage","setErrorMessage","_useState9","_useState10","successMessage","setSuccessMessage","_useState11","_useState12","user","setUser","useEffect","blogsService","initialNotes","loggedUserJSON","window","localStorage","getItem","JSON","parse","_user2","preventDefault","loginService","setItem","stringify","setTimeout","handleSetUsername","handleSetPassword","handleAddBlog","_ref2","_callee2","newBlog","newBlogs","_context2","status","error","_x2","className","style","color","display","flexDirection","alignItems","removeItem","components_BlogForm","components_Blogs","components_LoginForm","ReactDOM","render","src_App","document","getElementById"],"mappings":"uNAQeA,EAAA,CAAEC,MALN,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAMC,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACWC,IAAMC,KAHf,aAG6BP,GAD/B,cACNC,EADME,EAAAK,KAAAL,EAAAM,OAAA,SAELR,EAASS,MAFJ,wBAAAP,EAAAQ,SAAAZ,MAAH,gBAAAa,GAAA,OAAAnB,EAAAoB,MAAAC,KAAAC,YAAA,ICAPC,EAAQ,KAwBGC,EAAA,CAAEC,OALF,WAEb,OADgBZ,IAAMa,IAtBR,cAuBCC,KAAK,SAAAnB,GAAQ,OAAIA,EAASS,QAGlBW,SAtBR,SAAAC,GACfN,EAAK,UAAAO,OAAaD,IAqBeE,OAlBvB,eAAA/B,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAM0B,GAAN,IAAAC,EAAAzB,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACPqB,EAAS,CACbC,QAAS,CAAEC,cAAeZ,IAFfb,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAMYC,IAAMC,KAdjB,aAc+BkB,EAAWC,GAN3C,cAMLzB,EANKE,EAAAK,KAAAL,EAAAM,OAAA,SAOJR,GAPI,cAAAE,EAAAC,KAAA,EAAAD,EAAA0B,GAAA1B,EAAA,SAAAA,EAAAM,OAAA,SAAAN,EAAA0B,IAAA,yBAAA1B,EAAAQ,SAAAZ,EAAA,iBAAH,gBAAAa,GAAA,OAAAnB,EAAAoB,MAAAC,KAAAC,YAAA,ICqBGe,EA5BG,SAAAC,GAAS,IACjBC,EAA8DD,EAA9DC,SAAUC,EAAoDF,EAApDE,YAAaC,EAAuCH,EAAvCG,SAAUC,EAA6BJ,EAA7BI,YAAaC,EAAgBL,EAAhBK,YAEtD,OACEC,EAAAxC,EAAAyC,cAAA,QAAMC,SAAUH,GACdC,EAAAxC,EAAAyC,cAAA,sBAEED,EAAAxC,EAAAyC,cAAA,SACEE,KAAK,OACLC,MAAOT,EACPU,KAAK,WACLC,SAAUV,KAGdI,EAAAxC,EAAAyC,cAAA,sBAEED,EAAAxC,EAAAyC,cAAA,SACEE,KAAK,WACLC,MAAOP,EACPQ,KAAK,WACLC,SAAUR,KAGdE,EAAAxC,EAAAyC,cAAA,UAAQE,KAAK,UAAb,WClBSI,EANF,SAAAnD,GAAA,IAAGoD,EAAHpD,EAAGoD,KAAH,OACXR,EAAAxC,EAAAyC,cAAA,WACGO,EAAKC,MADR,IACgBD,EAAKE,SCURC,EAVD,SAAAvD,GAAe,IAAZwD,EAAYxD,EAAZwD,MAGf,OACEZ,EAAAxC,EAAAyC,cAAA,WAHwBW,EAAMC,IAAI,SAACL,EAAMM,GAAP,OAAiBd,EAAAxC,EAAAyC,cAACc,EAAD,CAAMC,IAAKF,EAAON,KAAMA,QCgDhES,EAlDE,SAACvB,GAAU,IAClBwB,EAAYxB,EAAZwB,QADkBC,EAEAC,mBAAS,IAFTC,EAAAhE,OAAAiE,EAAA,EAAAjE,CAAA8D,EAAA,GAEnBV,EAFmBY,EAAA,GAEZE,EAFYF,EAAA,GAAAG,EAGEJ,mBAAS,IAHXK,EAAApE,OAAAiE,EAAA,EAAAjE,CAAAmE,EAAA,GAGnBd,EAHmBe,EAAA,GAGXC,EAHWD,EAAA,GAAAE,EAIJP,mBAAS,IAJLQ,EAAAvE,OAAAiE,EAAA,EAAAjE,CAAAsE,EAAA,GAInBE,EAJmBD,EAAA,GAIdE,EAJcF,EAAA,GAgB1B,OACE5B,EAAAxC,EAAAyC,cAAA,WACED,EAAAxC,EAAAyC,cAAA,oBAEED,EAAAxC,EAAAyC,cAAA,SACEE,KAAK,OACLC,MAAOK,EACPJ,KAAK,QACLC,SAlBe,SAAAyB,GAAK,OAAIR,EAASQ,EAAMC,OAAO5B,WAqBlDJ,EAAAxC,EAAAyC,cAAA,qBAEED,EAAAxC,EAAAyC,cAAA,SACEE,KAAK,OACLC,MAAOM,EACPL,KAAK,SACLC,SAzBgB,SAAAyB,GAAK,OAAIL,EAAUK,EAAMC,OAAO5B,WA4BpDJ,EAAAxC,EAAAyC,cAAA,kBAEED,EAAAxC,EAAAyC,cAAA,SACEE,KAAK,OACLC,MAAOyB,EACPxB,KAAK,MACLC,SAhCa,SAAAyB,GAAK,OAAID,EAAOC,EAAMC,OAAO5B,WAmC9CJ,EAAAxC,EAAAyC,cAAA,UAAQgC,QAjCU,WACpBf,EAAQ,CAAET,QAAOC,SAAQmB,UAgCvB,YCiESK,EAzGH,WAAM,IAAAf,EACgBC,mBAAS,IADzBC,EAAAhE,OAAAiE,EAAA,EAAAjE,CAAA8D,EAAA,GACTxB,EADS0B,EAAA,GACCzB,EADDyB,EAAA,GAAAG,EAEgBJ,mBAAS,IAFzBK,EAAApE,OAAAiE,EAAA,EAAAjE,CAAAmE,EAAA,GAET3B,EAFS4B,EAAA,GAEC3B,EAFD2B,EAAA,GAAAE,EAGUP,mBAAS,IAHnBQ,EAAAvE,OAAAiE,EAAA,EAAAjE,CAAAsE,EAAA,GAGTf,EAHSgB,EAAA,GAGFO,EAHEP,EAAA,GAAAQ,EAIwBhB,mBAAS,MAJjCiB,EAAAhF,OAAAiE,EAAA,EAAAjE,CAAA+E,EAAA,GAITE,EAJSD,EAAA,GAIKE,EAJLF,EAAA,GAAAG,EAK4BpB,mBAAS,MALrCqB,EAAApF,OAAAiE,EAAA,EAAAjE,CAAAmF,EAAA,GAKTE,EALSD,EAAA,GAKOE,EALPF,EAAA,GAAAG,EAMQxB,mBAAS,MANjByB,EAAAxF,OAAAiE,EAAA,EAAAjE,CAAAuF,EAAA,GAMTE,EANSD,EAAA,GAMHE,EANGF,EAAA,GAQhBG,oBAAU,WACRC,EACGpE,SACAE,KAAK,SAAAmE,GAAY,OAAIf,EAASe,MAChC,IAEHF,oBAAU,WACR,IAAMG,EAAiBC,OAAOC,aAAaC,QAAQ,qBACnD,GAAIH,EAAgB,CAClB,IAAML,EAAOS,KAAKC,MAAML,GACxBJ,EAAQD,GACRG,EAAajE,SAAS8D,EAAKnE,SAE5B,IAEH,IAAMoB,EAAW,eAAA3C,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAOqE,GAAP,IAAA0B,EAAA,OAAAlG,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAClB+D,EAAM2B,iBADY5F,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGG2F,EAAaxG,MAAM,CAAEwC,WAAUE,aAHlC,OAGViD,EAHUhF,EAAAK,KAKhBiF,OAAOC,aAAaO,QAClB,oBAAqBL,KAAKM,UAAUf,IAGtCG,EAAajE,SAAS8D,EAAKnE,OAC3BoE,EAAQD,GACRlD,EAAY,IACZE,EAAY,IAZIhC,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAA0B,GAAA1B,EAAA,SAchByE,EAAgB,8BAChBuB,WAAW,WACTvB,EAAgB,OACf,KAjBa,yBAAAzE,EAAAQ,SAAAZ,EAAA,kBAAH,gBAAAa,GAAA,OAAAnB,EAAAoB,MAAAC,KAAAC,YAAA,GA0BXqF,EAAoB,SAAAhC,GAAK,OAAInC,EAAYmC,EAAMC,OAAO5B,QAEtD4D,EAAoB,SAAAjC,GAAK,OAAIjC,EAAYiC,EAAMC,OAAO5B,QActD6D,EAAa,eAAAC,EAAA7G,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAA0G,EAAO3D,GAAP,IAAA4D,EAAA1D,EAAA2D,EAAA,OAAA9G,EAAAC,EAAAK,KAAA,SAAAyG,GAAA,cAAAA,EAAAvG,KAAAuG,EAAAtG,MAAA,cAAAsG,EAAAtG,KAAA,EACEiF,EAAa9D,OAAOqB,GADtB,UAEG,OADjB4D,EADcE,EAAAnG,MAERoG,OAFQ,CAAAD,EAAAtG,KAAA,gBAGZ0C,EAAS0D,EAAQ/F,KAAKqC,OAC5BiC,EAAiB,cAAAzD,OAAesB,EAAKC,MAApB,UAAAvB,OAAoCwB,EAAF,OAAAxB,OAAkBwB,EAAlB,KAA8B,MAJ/D4D,EAAAtG,KAAA,EAKKiF,EAAapE,SALlB,OAKZwF,EALYC,EAAAnG,KAMlBgE,EAASkC,GACTP,WAAW,WACTnB,EAAkB,OACjB,KATe2B,EAAAtG,KAAA,iBAWlBuE,EAAe,GAAArD,OAAIkF,EAAQxG,SAASS,KAAKmG,QACzCV,WAAW,WACTvB,EAAgB,OACf,KAde,yBAAA+B,EAAAhG,SAAA6F,MAAH,gBAAAM,GAAA,OAAAP,EAAA1F,MAAAC,KAAAC,YAAA,GAkBnB,OACEsB,EAAAxC,EAAAyC,cAAA,OAAKyE,UAAU,OACb1E,EAAAxC,EAAAyC,cAAA,MAAIyE,UAAU,cAAd,SACA1E,EAAAxC,EAAAyC,cAAA,OAAK0E,MAAO,CAAEC,MAAO,QAAUtC,GAC/BtC,EAAAxC,EAAAyC,cAAA,OAAK0E,MAAO,CAAEC,MAAO,UAAYlC,GAC/BI,EAGA9C,EAAAxC,EAAAyC,cAAA,WACED,EAAAxC,EAAAyC,cAAA,OAAK0E,MAAO,CAAEE,QAAS,OAAQC,cAAe,MAAOC,WAAY,WAC/D/E,EAAAxC,EAAAyC,cAAA,YAAAf,OAAO4D,EAAKzC,KAAZ,eACAL,EAAAxC,EAAAyC,cAAA,UAAQgC,QAlDG,WACnBc,EAAQ,MACRK,OAAOC,aAAa2B,WAAW,uBAgDvB,WAEFhF,EAAAxC,EAAAyC,cAAA,6BACAD,EAAAxC,EAAAyC,cAACgF,EAAD,CAAU/D,QAAS+C,IACnBjE,EAAAxC,EAAAyC,cAACiF,EAAD,CAAOtE,MAAOA,KA3ClBZ,EAAAxC,EAAAyC,cAACkF,EAAD,CACExF,SAAUA,EACVE,SAAUA,EACVD,YAAamE,EACbjE,YAAakE,EACbjE,YAAaA,MC9DrBqF,IAASC,OAAOrF,EAAAxC,EAAAyC,cAACqF,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.ab077482.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }\n","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null;\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  try {\n    const response = await axios.post(baseUrl, newObject, config)\n    return response;\n  } catch (exception) {\n    return exception;\n  }\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, setToken, create }","import React from 'react'\n  \nconst LoginForm = props => {\n  const { username, setUsername, password, setPassword, handleLogin } = props;\n\n  return (\n    <form onSubmit={handleLogin}>\n      <div>\n        username\n        <input\n          type=\"text\"\n          value={username}\n          name=\"Username\"\n          onChange={setUsername}\n        />\n      </div>\n      <div>\n        password\n        <input\n          type=\"password\"\n          value={password}\n          name=\"Password\"\n          onChange={setPassword}\n        />\n      </div>\n      <button type=\"submit\">login</button>\n    </form>\n  )\n}\n\nexport default LoginForm;","import React from 'react'\nconst Blog = ({ blog }) => (\n  <div>\n    {blog.title} {blog.author}\n  </div>\n)\n\nexport default Blog","import React from 'react'\nimport Blog from './Blog'\n\nconst Blogs = ({ blogs }) => {\n  const renderBlogs = () => blogs.map((blog, index) => <Blog key={index} blog={blog} />)\n\n  return (\n    <div>\n      {renderBlogs()}\n    </div>\n  )\n}\n\nexport default Blogs","import React, { useState } from 'react';\n\nconst BlogForm = (props) => {\n  const { addBlog } = props;\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [url, setUrl] = useState('');\n\n  const handleSetTitle = event => setTitle(event.target.value)\n\n  const handleSetAuthor = event => setAuthor(event.target.value)\n\n  const handleSetUrl = event => setUrl(event.target.value)\n\n  const handleAddBlog = () => {\n    addBlog({ title, author, url })\n  }\n\n  return (\n    <div>\n      <div>\n        title:\n        <input\n          type=\"text\"\n          value={title}\n          name=\"title\"\n          onChange={handleSetTitle}\n        />\n      </div>\n      <div>\n        author:\n        <input\n          type=\"text\"\n          value={author}\n          name=\"author\"\n          onChange={handleSetAuthor}\n        />\n      </div>\n      <div>\n        url:\n        <input\n          type=\"text\"\n          value={url}\n          name=\"url\"\n          onChange={handleSetUrl}\n        />\n      </div>\n      <button onClick={handleAddBlog}>create</button>\n    </div>\n  )\n}\n\nexport default BlogForm;","import React, { useState, useEffect } from 'react';\nimport loginService from './services/login'\nimport blogsService from './services/blogs'\nimport LoginForm from './components/LoginForm'\nimport Blogs from './components/Blogs';\nimport BlogForm from './components/BlogForm';\n\nconst App = () => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [blogs, setBlogs] = useState([])\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [user, setUser] = useState(null)\n\n  useEffect(() => {\n    blogsService\n      .getAll()\n      .then(initialNotes => setBlogs(initialNotes))\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogsService.setToken(user.token)\n    }\n  }, [])\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({ username, password })\n\n      window.localStorage.setItem(\n        'loggedBlogappUser', JSON.stringify(user)\n      )\n\n      blogsService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    } catch (exception) {\n      setErrorMessage('wrong username or password')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const handleLogout = () => {\n    setUser(null);\n    window.localStorage.removeItem('loggedNoteappUser');\n  }\n\n  const handleSetUsername = event => setUsername(event.target.value)\n\n  const handleSetPassword = event => setPassword(event.target.value)\n\n  const renderLoginForm = () => {\n    return (\n      <LoginForm\n        username={username}\n        password={password}\n        setUsername={handleSetUsername}\n        setPassword={handleSetPassword}\n        handleLogin={handleLogin}\n      />\n    )\n  }\n\n  const handleAddBlog = async (blog) => {\n    const newBlog = await blogsService.create(blog)\n    if (newBlog.status === 200) {\n      const author = newBlog.data.author\n      setSuccessMessage(`a new blog ${blog.title} added${!!author ? ` by ${author}.` : \".\"}`)\n      const newBlogs = await blogsService.getAll()\n      setBlogs(newBlogs)\n      setTimeout(() => {\n        setSuccessMessage(null)\n      }, 5000)\n    } else {\n      setErrorMessage(`${newBlog.response.data.error}`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"App-header\">Blogs</h1>\n      <div style={{ color: \"red\" }}>{errorMessage}</div>\n      <div style={{ color: \"green\" }}>{successMessage}</div>\n      {!user\n        ? renderLoginForm()\n        :\n        <div>\n          <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\n            <p>{`${user.name} logged in`}</p>\n            <button onClick={handleLogout}>logout</button>\n          </div>\n          <h2>create new blog</h2>\n          <BlogForm addBlog={handleAddBlog}/>\n          <Blogs blogs={blogs}/>\n        </div>\n      }\n    </div>\n  );\n}\n\nexport default App;\n","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}