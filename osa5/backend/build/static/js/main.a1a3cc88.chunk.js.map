{"version":3,"sources":["services/login.js","services/blogs.js","components/LoginForm.js","components/Blog.js","components/Blogs.js","components/BlogForm.js","App.js","index.js"],"names":["services_login","credentials","response","regenerator_default","a","async","_context","prev","next","awrap","axios","post","sent","console","log","abrupt","data","stop","token","services_blogs","get","then","newToken","concat","newObject","config","headers","Authorization","t0","blogId","_context2","put","_context3","delete","LoginForm","props","username","setUsername","password","setPassword","handleLogin","handleVisible","visible","react_default","createElement","onSubmit","type","value","name","onChange","onClick","Blog","_ref","blog","onLike","onRemoveBlog","isBlogMaker","_useState","useState","_useState2","Object","slicedToArray","collapsed","setCollapsed","style","border","display","marginTop","padding","title","author","href","url","likes","user","Blogs","blogs","sort","b","map","index","components_Blog","key","BlogForm","addBlog","toggleVisible","setTitle","_useState3","_useState4","setAuthor","_useState5","_useState6","setUrl","event","target","App","loginVisible","setLoginVisible","_useState7","_useState8","createBlogVisible","setCreateBlogVisible","_useState9","_useState10","setBlogs","_useState11","_useState12","errorMessage","setErrorMessage","_useState13","_useState14","successMessage","setSuccessMessage","_useState15","_useState16","setUser","useEffect","blogsService","initialBlogs","loggedUserJSON","window","localStorage","getItem","JSON","parse","toggleLoginVisible","_user2","preventDefault","loginService","setItem","stringify","setTimeout","handleSetUsername","handleSetPassword","className","color","flexDirection","alignItems","removeItem","components_BlogForm","newBlog","newBlogs","status","error","components_Blogs","updatedBlog","id","deleted","_context4","confirm","components_LoginForm","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a1a3cc88.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  console.log(response)\n  return response.data\n}\n\nexport default { login }\n","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  try {\n    const response = await axios.post(baseUrl, newObject, config)\n    return response\n  } catch (exception) {\n    return exception\n  }\n}\n\nconst update = async (blogId, newObject) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  try {\n    const response = await axios.put(`${baseUrl}/${blogId}`, newObject, config)\n    return response\n  } catch (exception) {\n    return exception\n  }\n}\n\nconst remove = async (blogId) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  try {\n    const response = await axios.delete(`${baseUrl}/${blogId}`, config)\n    return response\n  } catch (exception) {\n    return exception\n  }\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, setToken, create, update, token, remove }","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst LoginForm = props => {\n  const { username, setUsername, password, setPassword, handleLogin, handleVisible, visible } = props\n\n  return (\n    <div>\n      {visible &&\n        <form onSubmit={handleLogin}>\n          <div>\n            username\n            <input\n              type=\"text\"\n              value={username}\n              name=\"Username\"\n              onChange={setUsername}\n            />\n          </div>\n          <div>\n            password\n            <input\n              type=\"password\"\n              value={password}\n              name=\"Password\"\n              onChange={setPassword}\n            />\n          </div>\n          <button type=\"submit\">login</button>\n        </form>\n      }\n      <button onClick={handleVisible}>{visible ? 'cancel' : 'login'}</button>\n    </div>\n  )\n}\n\nLoginForm.propTypes = {\n  username: PropTypes.string.isRequired,\n  setUsername: PropTypes.func.isRequired,\n  password: PropTypes.string.isRequired,\n  setPassword: PropTypes.func.isRequired,\n  handleLogin: PropTypes.func.isRequired,\n  visible: PropTypes.bool.isRequired\n}\n\nexport default LoginForm","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\n\nconst Blog = ({ blog, onLike, onRemoveBlog, isBlogMaker }) => {\n  const [collapsed, setCollapsed] = useState(true)\n\n  const containerStyle = {\n    border: '1px solid black',\n    display: 'block',\n    marginTop: 6,\n    padding: 6\n  }\n\n  const handleCollapsed = () => setCollapsed(!collapsed)\n\n  const handleLikeClick = () => onLike(blog)\n\n  const handleRemoveBlog = () => onRemoveBlog(blog)\n\n  return (\n    <div style={containerStyle}>\n      <div onClick={handleCollapsed}>{`${blog.title} ${blog.author}`}</div>\n      {!collapsed && <a href={blog.url}>{blog.url}</a>}\n      {!collapsed && <div>\n        <div style={{ display: 'inline' }}>{`${blog.likes} likes`}</div>\n        <button style={{ display: 'inline' }} onClick={handleLikeClick}>like</button>\n      </div>}\n      {!collapsed && <div>{`added by ${blog.user.name}`}</div>}\n      {!collapsed && isBlogMaker && <button onClick={handleRemoveBlog}>Remove</button>}\n    </div>\n  )\n}\n\nBlog.propTypes = {\n  blog: PropTypes.object.isRequired,\n  onLike: PropTypes.func.isRequired,\n  onRemoveBlog: PropTypes.func.isRequired,\n  isBlogMaker: PropTypes.bool.isRequired\n}\n\nexport default Blog","import React from 'react'\nimport Blog from './Blog'\nimport PropTypes from 'prop-types'\n\nconst Blogs = ({ blogs, onLike, onRemoveBlog, user }) => {\n\n  const renderBlogs = () => {\n    return (\n      blogs.sort((a, b) => a.likes < b.likes ? 1 : -1).map((blog, index) => {\n        const isBlogMaker = blog.user.username === user.username\n        return <Blog key={index} blog={blog} onLike={onLike} onRemoveBlog={onRemoveBlog} isBlogMaker={isBlogMaker} />\n      })\n    )\n  }\n\n  return (\n    <div>\n      {renderBlogs()}\n    </div>\n  )\n}\n\nBlogs.propTypes = {\n  blogs: PropTypes.object.isRequired,\n  onLike: PropTypes.func.isRequired,\n  onRemoveBlog: PropTypes.bool.isRequired,\n  user: PropTypes.object.isRequired\n}\n\nexport default Blogs","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\n\nconst BlogForm = ({ addBlog, visible, toggleVisible }) => {\n  const [title, setTitle] = useState('')\n  const [author, setAuthor] = useState('')\n  const [url, setUrl] = useState('')\n\n  const handleSetTitle = event => setTitle(event.target.value)\n\n  const handleSetAuthor = event => setAuthor(event.target.value)\n\n  const handleSetUrl = event => setUrl(event.target.value)\n\n  const handleAddBlog = () => {\n    addBlog({ title, author, url })\n  }\n\n  const handleToggleVisible = () => {\n    setTitle('')\n    setAuthor('')\n    setUrl('')\n    toggleVisible()\n  }\n\n  return (\n    <div>\n      {visible &&\n        <div>\n          <div>\n            title:\n            <input\n              type=\"text\"\n              value={title}\n              name=\"title\"\n              onChange={handleSetTitle}\n            />\n          </div>\n          <div>\n            author:\n            <input\n              type=\"text\"\n              value={author}\n              name=\"author\"\n              onChange={handleSetAuthor}\n            />\n          </div>\n          <div>\n            url:\n            <input\n              type=\"text\"\n              value={url}\n              name=\"url\"\n              onChange={handleSetUrl}\n            />\n          </div>\n          <button onClick={handleAddBlog}>create</button>\n        </div>\n      }\n      <button onClick={handleToggleVisible}>{visible ? 'cancel' : 'create blog'}</button>\n    </div>\n  )\n}\n\nBlogForm.propTypes = {\n  addBlog: PropTypes.func.isRequired,\n  toggleVisible: PropTypes.func.isRequired,\n  visible: PropTypes.bool.isRequired\n}\n\nexport default BlogForm\n","import React, { useState, useEffect } from 'react'\nimport loginService from './services/login'\nimport blogsService from './services/blogs'\nimport LoginForm from './components/LoginForm'\nimport Blogs from './components/Blogs'\nimport BlogForm from './components/BlogForm'\n\nconst App = () => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [loginVisible, setLoginVisible] = useState(false)\n  const [createBlogVisible, setCreateBlogVisible] = useState(false)\n  const [blogs, setBlogs] = useState([])\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [user, setUser] = useState(null)\n\n  useEffect(() => {\n    blogsService\n      .getAll()\n      .then(initialBlogs => setBlogs(initialBlogs))\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogsService.setToken(user.token)\n    }\n  }, [])\n\n  const toggleLoginVisible = () => {\n    if (loginVisible) {\n      setUsername('')\n      setPassword('')\n      setLoginVisible(false)\n    } else {\n      setLoginVisible(true)\n    }\n  }\n\n  const handleCreateBlogVisible = () => setCreateBlogVisible(!createBlogVisible)\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({ username, password })\n\n      window.localStorage.setItem(\n        'loggedBlogappUser', JSON.stringify(user)\n      )\n\n      blogsService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    } catch (exception) {\n      setErrorMessage('wrong username or password')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const handleLogout = () => {\n    setUser(null)\n    window.localStorage.removeItem('loggedNoteappUser')\n  }\n\n  const handleSetUsername = event => setUsername(event.target.value)\n\n  const handleSetPassword = event => setPassword(event.target.value)\n\n  const renderLoginForm = () => {\n    return (\n      <LoginForm\n        username={username}\n        password={password}\n        setUsername={handleSetUsername}\n        setPassword={handleSetPassword}\n        handleLogin={handleLogin}\n        visible={loginVisible}\n        handleVisible={toggleLoginVisible}\n      />\n    )\n  }\n\n  const handleAddBlog = async (blog) => {\n    try {\n      const newBlog = await blogsService.create(blog)\n      if (newBlog.status === 200) {\n        const author = newBlog.data.author\n        setSuccessMessage(`a new blog ${blog.title} added${author ? ` by ${author}.` : '.'}`)\n        const newBlogs = await blogsService.getAll()\n        setBlogs(newBlogs)\n        setTimeout(() => {\n          setSuccessMessage(null)\n        }, 5000)\n      } else {\n        setErrorMessage(`${newBlog.response.data.error}`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      }\n    } catch (exception) {\n      setErrorMessage(`${exception}`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const handleLikeClick = async (blog) => {\n    try {\n      const updatedBlog = {\n        likes: blog.likes + 1,\n        author: blog.author,\n        title: blog.title,\n        url: blog.url\n      }\n      await blogsService.update(blog.id, updatedBlog)\n      const newBlogs = await blogsService.getAll()\n      setBlogs(newBlogs)\n    } catch (exception) {\n      console.log(exception)\n    }\n  }\n\n  const handleRemoveBlog = async (blog) => {\n    if (window.confirm(`Remove blog ${blog.title}`)) {\n      try {\n        const deleted = await blogsService.remove(blog.id)\n        if (deleted.status === 204) {\n          setSuccessMessage(`${blog.title} was succesfully removed`)\n          const newBlogs = await blogsService.getAll()\n          setBlogs(newBlogs)\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n        } else {\n          setErrorMessage(`${deleted.response.data.error}`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        }\n      } catch (exception) {\n        setErrorMessage(`${exception}`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      }\n    }\n  }\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"App-header\">Blogs</h1>\n      <div style={{ color: 'red' }}>{errorMessage}</div>\n      <div style={{ color: 'green' }}>{successMessage}</div>\n      {!user\n        ? renderLoginForm()\n        :\n        <div>\n          <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\n            <p>{`${user.name} logged in`}</p>\n            <button onClick={handleLogout}>logout</button>\n          </div>\n          <h2>create new blog</h2>\n          <BlogForm addBlog={handleAddBlog} visible={createBlogVisible} toggleVisible={handleCreateBlogVisible}/>\n          <Blogs blogs={blogs} onLike={handleLikeClick} onRemoveBlog={handleRemoveBlog} user={user}/>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default App\n","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}